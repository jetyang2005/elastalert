curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-12T13:30:58.624817Z",
            "to": "2017-04-13T13:30:58.624849Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-13T13:30:59.613479Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-13T13:31:59.613388Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-13T13:32:47.077525Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-13T13:30:59.794949Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-13T13:32:47.360592Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-13T13:33:47.360530Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-13T14:05:20.242917Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-13T13:32:47.377245Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtB9ImcoShsunwkLL-f",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-13T14:05:20.835558Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-13T14:06:20.835458Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-13T14:05:23.403608Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-13T14:05:20.947053Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCzinV0OySz129jewt",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-13T14:05:23.489775Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 2064.630179166794
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-12T14:10:38.201795Z",
            "to": "2017-04-13T14:10:38.201843Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-13T14:10:39.067632Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-13T14:11:39.067571Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-13T14:15:30.616351Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-13T14:10:39.129567Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-13T14:15:30.864250Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-13T14:16:30.864149Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-13T14:15:34.555223Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-13T14:15:30.942658Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtB9ImcoShsunwkLL-f",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-13T14:15:34.632598Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 296.26019406318665
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-12T16:08:01.455334Z",
            "to": "2017-04-13T16:08:01.455390Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-13T16:08:03.701905Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-13T16:09:03.701842Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-13T16:08:03.983658Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-13T16:08:03.971424Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-13T16:08:04.185447Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 2.0029799938201904
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T01:55:23.487450Z",
            "to": "2017-04-14T01:55:23.487547Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T01:55:24.260927Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T01:56:24.260874Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T01:55:24.328237Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T01:55:24.314151Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T01:55:24.415939Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.6069657802581787
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T01:58:29.067913Z",
            "to": "2017-04-14T01:58:29.067954Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T01:58:29.649751Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T01:59:29.649700Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T01:58:29.703725Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T01:58:29.691642Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T01:58:29.851270Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.6390149593353271
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T06:52:33.245729Z",
            "to": "2017-04-14T06:52:33.245787Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T06:52:34.092827Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T06:53:34.092793Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T06:53:09.338484Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T06:52:34.204980Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T06:53:09.576906Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 36.06059789657593
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:01:05.828112Z",
            "to": "2017-04-14T07:01:05.828165Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:01:06.222101Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:02:06.222061Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:11:03.235827Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 63, in senddata",
    "    \u0027(%s,%s,%s,%s,\"2\",%s,\"frequency\",%s,%s,\"0\",\"\")\u0027",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:11:03.397017Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:12:03.396916Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:11:03.508051Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 63, in senddata",
    "    \u0027(%s,%s,%s,%s,\"2\",%s,\"frequency\",%s,%s,\"0\",\"\")\u0027",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:11:03.620654Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 597.7378678321838
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:11:29.477331Z",
            "to": "2017-04-14T07:11:29.477380Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:11:29.811257Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:12:29.811205Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:07.887832Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 65, in senddata",
    "    for alertperson in self.rule.alertpersons:",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:08.015509Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:17:08.015309Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:08.158888Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 65, in senddata",
    "    for alertperson in self.rule.alertpersons:",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:08.229348Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 278.72508692741394
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:16:20.010051Z",
            "to": "2017-04-14T07:16:20.010092Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:20.411741Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:17:20.411693Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:23.407885Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 65, in senddata",
    "    for alertperson in self.rule.alertpersons:",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:23.488551Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 3.4433131217956543
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:16:52.182672Z",
            "to": "2017-04-14T07:16:52.182722Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:16:52.840109Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:17:52.840064Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:17:51.449418Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 65, in senddata",
    "    for alertperson in self.rule.alertpersons:",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027alertpersons\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:17:51.633990Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 59.39261794090271
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:18:45.335320Z",
            "to": "2017-04-14T07:18:45.335393Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:18:45.703721Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:19:45.703670Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:18:55.495798Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: \u0027dict\u0027 object has no attribute \u0027rule_id\u0027",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 67, in senddata",
    "    insert_data = [self.rule.rule_id,",
    "AttributeError: \u0027dict\u0027 object has no attribute \u0027rule_id\u0027"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:18:55.560600Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 10.174594163894653
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:19:53.388150Z",
            "to": "2017-04-14T07:19:53.388179Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:19:53.858570Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:20:53.858520Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:19:57.829127Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: not all arguments converted during string formatting",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 75, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 580, in tough_method",
    "    result = method(*args, **kwargs)  # try to execute",
    "  File \"/Library/Python/2.7/site-packages/MySQL_python-1.2.4b4-py2.7-macosx-10.10-intel.egg/MySQLdb/cursors.py\", line 184, in execute",
    "    query = query % db.literal(args)",
    "TypeError: not all arguments converted during string formatting"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:19:58.088564Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 4.660081148147583
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:20:56.850721Z",
            "to": "2017-04-14T07:20:56.850816Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:20:57.157314Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:21:57.157262Z"
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:22:21.903572Z",
            "to": "2017-04-14T07:22:21.903587Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:22:22.078210Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:23:22.078195Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:22:22.190493Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: not all arguments converted during string formatting",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 75, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 580, in tough_method",
    "    result = method(*args, **kwargs)  # try to execute",
    "  File \"/Library/Python/2.7/site-packages/MySQL_python-1.2.4b4-py2.7-macosx-10.10-intel.egg/MySQLdb/cursors.py\", line 184, in execute",
    "    query = query % db.literal(args)",
    "TypeError: not all arguments converted during string formatting"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:22:22.264976Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.3514571189880371
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:23:26.253223Z",
            "to": "2017-04-14T07:23:26.253274Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:23:26.614785Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:24:26.614733Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:23:29.650456Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: not all arguments converted during string formatting",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 74, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 580, in tough_method",
    "    result = method(*args, **kwargs)  # try to execute",
    "  File \"/Library/Python/2.7/site-packages/MySQL_python-1.2.4b4-py2.7-macosx-10.10-intel.egg/MySQLdb/cursors.py\", line 184, in execute",
    "    query = query % db.literal(args)",
    "TypeError: not all arguments converted during string formatting"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:23:29.782994Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 3.5076918601989746
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:23:46.757095Z",
            "to": "2017-04-14T07:23:46.757127Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:23:47.055122Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:24:47.055088Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:08.374280Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: not all arguments converted during string formatting",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 74, in senddata",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 580, in tough_method",
    "    result = method(*args, **kwargs)  # try to execute",
    "  File \"/Library/Python/2.7/site-packages/MySQL_python-1.2.4b4-py2.7-macosx-10.10-intel.egg/MySQLdb/cursors.py\", line 184, in execute",
    "    query = query % db.literal(args)",
    "TypeError: not all arguments converted during string formatting"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:08.545366Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:27:08.545229Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:10.184749Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: not all arguments converted during string formatting",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 74, in senddata",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 580, in tough_method",
    "    result = method(*args, **kwargs)  # try to execute",
    "  File \"/Library/Python/2.7/site-packages/MySQL_python-1.2.4b4-py2.7-macosx-10.10-intel.egg/MySQLdb/cursors.py\", line 184, in execute",
    "    query = query % db.literal(args)",
    "TypeError: not all arguments converted during string formatting"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:10.376192Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 143.58934593200684
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:26:19.161113Z",
            "to": "2017-04-14T07:26:19.161169Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:19.627133Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:27:19.627078Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:20.943564Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: (1054, \"Unknown column \u0027alert_exception\u0027 in \u0027field list\u0027\")",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 73, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 661, in tough_method",
    "    raise error  # reraise the original error again",
    "OperationalError: (1054, \"Unknown column \u0027alert_exception\u0027 in \u0027field list\u0027\")"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:26:20.994239Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 1.788025140762329
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:27:10.709150Z",
            "to": "2017-04-14T07:27:10.709177Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:27:10.955874Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:28:10.955834Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T07:27:13.534495Z",
  "data": {
    "rule": "Example rule"
  },
  "message": "Uncaught exception running rule Example rule: (1364, \"Field \u0027ID\u0027 doesn\u0027t have a default value\")",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 72, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 661, in tough_method",
    "    raise error  # reraise the original error again",
    "OperationalError: (1364, \"Field \u0027ID\u0027 doesn\u0027t have a default value\")"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:27:13.655030Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 2.903122901916504
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T07:31:21.056878Z",
            "to": "2017-04-14T07:31:21.056931Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T07:31:21.466033Z",
  "exponent": 0,
  "rule_name": "Example rule",
  "until": "2017-04-14T07:32:21.465994Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T07:31:25.903956Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T07:31:21.561043Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "Example rule"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "Example rule._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T07:31:26.083471Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "Example rule",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 4.993646144866943
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T10:05:07.067398Z",
            "to": "2017-04-14T10:05:07.067482Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T10:05:09.293883Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-14T10:06:09.293825Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-14T10:05:12.647503Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Uncaught exception running rule rule_test: \u0027bool\u0027 object is not iterable",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1063, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1142, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 63, in senddata",
    "    for alertperson in self.rule[\u0027alertpersons\u0027]:",
    "TypeError: \u0027bool\u0027 object is not iterable"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T10:05:12.927527Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 4.7808191776275635
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T16:14:08.478119Z",
            "to": "2017-04-14T16:14:08.478184Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T16:14:10.366359Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-14T16:15:10.366319Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T16:14:16.953224Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T16:14:10.670517Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T16:14:17.216833Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 8.273476123809814
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T16:27:29.913884Z",
            "to": "2017-04-14T16:27:29.913913Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T16:29:45.994757Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-14T16:30:45.994506Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T16:29:51.361212Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T16:29:46.114441Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T16:29:51.409216Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 141.45543909072876
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T16:31:50.908921Z",
            "to": "2017-04-14T16:31:50.908951Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T16:32:12.548138Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-14T16:33:12.548107Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T16:32:12.576108Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T16:32:12.571751Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T16:32:12.599607Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 21.67926287651062
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-13T16:34:06.019608Z",
            "to": "2017-04-14T16:34:06.019637Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-14T16:38:59.450153Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-14T16:39:59.450126Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-14T16:38:59.524657Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-14T16:38:59.510289Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-14T16:38:59.576797Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 293.54839301109314
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T04:12:06.595590Z",
            "to": "2017-04-15T04:12:06.595648Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T04:12:07.797980Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T04:13:07.797927Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T04:12:08.115274Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T04:12:08.104773Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T04:12:08.283093Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 1.5433111190795898
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T04:30:22.181364Z",
            "to": "2017-04-15T04:30:22.181448Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T04:30:22.955941Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T04:31:22.955914Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T04:30:23.058206Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T04:30:23.037804Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T04:30:23.173382Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.9079208374023438
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T04:47:22.513017Z",
            "to": "2017-04-15T04:47:22.513116Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T04:47:23.071754Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T04:48:23.071707Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T04:47:23.205471Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T04:47:23.179213Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T04:47:23.270955Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.6801130771636963
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T08:13:53.279817Z",
            "to": "2017-04-15T08:13:53.279923Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T08:13:54.586954Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T08:14:54.586899Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T08:13:54.779268Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Uncaught exception running rule rule_test: \u0027bool\u0027 object is not iterable",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1065, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 63, in senddata",
    "    for alertperson in self.rule[\u0027alertpersons\u0027]:",
    "TypeError: \u0027bool\u0027 object is not iterable"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T08:13:54.925814Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 1.2313737869262695
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T08:23:25.853611Z",
            "to": "2017-04-15T08:23:25.853657Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T08:23:26.402171Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T08:24:26.402146Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T08:23:26.450046Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T08:23:26.442203Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T08:23:26.521976Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.6426558494567871
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T08:25:06.595610Z",
            "to": "2017-04-15T08:25:06.595641Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T08:25:06.931419Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T08:26:06.931386Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T08:25:06.979255Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T08:25:06.971079Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T08:25:07.035617Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.4243760108947754
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T08:33:16.133634Z",
            "to": "2017-04-15T08:33:16.133736Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T08:33:16.742706Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T08:34:16.742649Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T08:33:16.835803Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T08:33:16.816367Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T08:33:16.903743Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.6342241764068604
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T09:05:05.685259Z",
            "to": "2017-04-15T09:05:05.685361Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T09:05:07.026938Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T09:06:07.026899Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T09:05:07.439719Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T09:05:07.416771Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T09:05:07.793763Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 1.5580120086669922
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T09:07:34.985771Z",
            "to": "2017-04-15T09:07:34.985813Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T09:07:35.421300Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T09:08:35.421249Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T09:07:35.487947Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T09:07:35.472132Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T09:07:35.606020Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 0.5836551189422607
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T09:24:17.614622Z",
            "to": "2017-04-15T09:24:17.615235Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T09:24:18.786251Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T09:25:18.786210Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T09:24:18.906888Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T09:24:18.881892Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T09:24:19.364022Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 1.1715638637542725
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T09:28:35.470477Z",
            "to": "2017-04-15T09:28:35.470509Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T09:28:35.958635Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T09:29:35.958585Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T09:31:16.023202Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Error while running alert email: Error connecting to SMTP host: [Errno 60] Operation timed out",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts.py\", line 425, in alert",
    "    raise EAException(\"Error connecting to SMTP host: %s\" % (e))",
    "EAException: Error connecting to SMTP host: [Errno 60] Operation timed out"
  ]
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T09:31:16.088216Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T09:28:36.022504Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T09:31:16.219713Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T09:32:16.219664Z"
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:00:05.465427Z",
            "to": "2017-04-15T10:00:05.465696Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:00:06.650133Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:01:06.650096Z"
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:01:24.767685Z",
            "to": "2017-04-15T10:01:24.767730Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:01:26.395892Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:02:26.395861Z"
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:03:30.627147Z",
            "to": "2017-04-15T10:03:30.627270Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:03:31.992962Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:04:31.992799Z"
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:07:34.288377Z",
            "to": "2017-04-15T10:07:34.288428Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:07:35.325764Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:08:35.325708Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T10:12:05.236961Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Error while running alert email: Error connecting to SMTP host: [Errno 60] Operation timed out",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts.py\", line 425, in alert",
    "    raise EAException(\"Error connecting to SMTP host: %s\" % (e))",
    "EAException: Error connecting to SMTP host: [Errno 60] Operation timed out"
  ]
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T10:12:05.408412Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T10:07:35.500246Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:12:05.803358Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:13:05.803305Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T10:12:09.424508Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Error while running alert email: Error connecting to SMTP host: (535, \u0027Error: \\xc7\\xeb\\xca\\xb9\\xd3\\xc3\\xca\\xda\\xc8\\xa8\\xc2\\xeb\\xb5\\xc7\\xc2\\xbc\\xa1\\xa3\\xcf\\xea\\xc7\\xe9\\xc7\\xeb\\xbf\\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\u0027)",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts.py\", line 425, in alert",
    "    raise EAException(\"Error connecting to SMTP host: %s\" % (e))",
    "EAException: Error connecting to SMTP host: (535, \u0027Error: \\xc7\\xeb\\xca\\xb9\\xd3\\xc3\\xca\\xda\\xc8\\xa8\\xc2\\xeb\\xb5\\xc7\\xc2\\xbc\\xa1\\xa3\\xcf\\xea\\xc7\\xe9\\xc7\\xeb\\xbf\\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\u0027)"
  ]
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T10:12:09.676683Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T10:12:05.897494Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtB9ImcoShsunwkLL-f",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T10:12:09.919432Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 275.4535150527954
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:15:07.832797Z",
            "to": "2017-04-15T10:15:07.832869Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:15:08.517167Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:16:08.517112Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T10:15:14.046514Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Error while running alert email: Error connecting to SMTP host: (535, \u0027Error: \\xc7\\xeb\\xca\\xb9\\xd3\\xc3\\xca\\xda\\xc8\\xa8\\xc2\\xeb\\xb5\\xc7\\xc2\\xbc\\xa1\\xa3\\xcf\\xea\\xc7\\xe9\\xc7\\xeb\\xbf\\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\u0027)",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts.py\", line 425, in alert",
    "    raise EAException(\"Error connecting to SMTP host: %s\" % (e))",
    "EAException: Error connecting to SMTP host: (535, \u0027Error: \\xc7\\xeb\\xca\\xb9\\xd3\\xc3\\xca\\xda\\xc8\\xa8\\xc2\\xeb\\xb5\\xc7\\xc2\\xbc\\xa1\\xa3\\xcf\\xea\\xc7\\xe9\\xc7\\xeb\\xbf\\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\u0027)"
  ]
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T10:15:14.147446Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T10:15:08.640856Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T10:15:14.413311Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 6.500207901000977
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:17:50.112644Z",
            "to": "2017-04-15T10:17:50.112714Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:17:50.918209Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:18:50.918162Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T10:17:52.699969Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T10:17:51.080221Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T10:17:53.196913Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 2.9077460765838623
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:30:18.942219Z",
            "to": "2017-04-15T10:30:18.942251Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:30:19.414073Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:31:19.414031Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T10:30:54.829754Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Uncaught exception running rule rule_test: (1241, \u0027Operand should contain 1 column(s)\u0027)",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1065, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 73, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 661, in tough_method",
    "    raise error  # reraise the original error again",
    "OperationalError: (1241, \u0027Operand should contain 1 column(s)\u0027)"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T10:30:55.045133Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 36.054853200912476
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:32:08.277443Z",
            "to": "2017-04-15T10:32:08.277476Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:32:08.436521Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:33:08.436489Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_error?pretty' -d '{
  "@timestamp": "2017-04-15T10:32:13.229090Z",
  "data": {
    "rule": "rule_test"
  },
  "message": "Uncaught exception running rule rule_test: (1364, \"Field \u0027ID\u0027 doesn\u0027t have a default value\")",
  "traceback": [
    "Traceback (most recent call last):",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1065, in alert",
    "    return self.send_alert(matches, rule, alert_time=alert_time)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/elastalert.py\", line 1144, in send_alert",
    "    alert.alert(matches)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 40, in alert",
    "    self.senddata(body)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/alerts_extend_db.py\", line 73, in senddata",
    "    mysql.insertOne(insert_sql, insert_data)",
    "  File \"/Users/yangwm/log/elastalert/elastalert/db_sqlconn.py\", line 109, in insertOne",
    "    self._cursor.execute(sql, value)",
    "  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/DBUtils/SteadyDB.py\", line 661, in tough_method",
    "    raise error  # reraise the original error again",
    "OperationalError: (1364, \"Field \u0027ID\u0027 doesn\u0027t have a default value\")"
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T10:32:13.492690Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 5.197386026382446
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-14T10:35:25.236476Z",
            "to": "2017-04-15T10:35:25.236534Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-15T10:35:25.534038Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-15T10:36:25.533985Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-15T10:35:30.899574Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-15T10:35:25.586709Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-15T10:35:31.073446Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 5.7880048751831055
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-15T04:41:06.531263Z",
            "to": "2017-04-16T04:41:06.531293Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-16T04:41:06.922899Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-16T04:42:06.922846Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-16T04:41:14.924099Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-16T04:41:07.038103Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "rule_test"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-16T04:41:15.323117Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "rule_test",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 8.739209175109863
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-15T04:42:26.192026Z",
            "to": "2017-04-16T04:42:26.192280Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-15T05:45:50.903093Z",
            "to": "2017-04-16T05:45:50.903153Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "rule_test"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-16T05:52:43.304670Z",
  "exponent": 0,
  "rule_name": "rule_test",
  "until": "2017-04-16T05:53:43.304447Z"
}'
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/?pretty' -d ''
curl -XGET 'http://localhost:9200/elastalert_status/elastalert/_search?pretty&size=1000' -d '{
  "query": {
    "bool": {
      "filter": {
        "range": {
          "alert_time": {
            "from": "2017-04-18T11:06:50.269703Z",
            "to": "2017-04-19T11:06:50.269737Z"
          }
        }
      },
      "must": {
        "query_string": {
          "query": "!_exists_:aggregate_id AND alert_sent:false"
        }
      }
    }
  },
  "sort": {
    "alert_time": {
      "order": "asc"
    }
  }
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:30:00.860000+08:00",
                  "lte": "2017-04-06T14:31:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:31:00.860000+08:00",
                  "lte": "2017-04-06T14:32:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:32:00.860000+08:00",
                  "lte": "2017-04-06T14:33:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:33:00.860000+08:00",
                  "lte": "2017-04-06T14:34:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/2017*/_search?pretty&_source_include=%40timestamp%2C%2A&ignore_unavailable=true&scroll=30s&size=10000' -d '{
  "query": {
    "bool": {
      "filter": {
        "bool": {
          "must": [
            {
              "range": {
                "@timestamp": {
                  "gt": "2017-04-06T14:34:00.860000+08:00",
                  "lte": "2017-04-06T14:35:00.860000+08:00"
                }
              }
            },
            {
              "query_string": {
                "query": "field6:Exception"
              }
            }
          ]
        }
      }
    }
  },
  "sort": [
    {
      "@timestamp": {
        "order": "asc"
      }
    }
  ]
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "frequency_1._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "frequency_1"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/silence?pretty' -d '{
  "@timestamp": "2017-04-19T11:07:01.383998Z",
  "exponent": 0,
  "rule_name": "frequency_1",
  "until": "2017-04-19T11:08:01.383924Z"
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert?pretty' -d '{
  "@timestamp": "2017-04-19T11:07:03.274455Z",
  "alert_info": {
    "type": "DBAlerter"
  },
  "alert_sent": true,
  "alert_time": "2017-04-19T11:07:01.771076Z",
  "match_body": {
    "@timestamp": "2017-04-06T14:30:42.860000+08:00",
    "_fileName_": "linklog.log",
    "_hostname_": "log",
    "_id": "AVtCg-xu0OySz129jbiH",
    "_index": "20170406",
    "_ip_": "127.0.0.1",
    "_nodename_": "node4",
    "_port_": "8080",
    "_sysNo_": "1004",
    "_type": "linklog.log",
    "field1": "@@",
    "field3": "173480",
    "field4": "[http-nio-8089-exec-10]",
    "field5": "INFO ",
    "field6": "Exception",
    "field7": "1112\n",
    "num_hits": 3,
    "num_matches": 3
  },
  "rule_name": "frequency_1"
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "frequency_1._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XGET 'http://localhost:9200/elastalert_status/silence/_search?pretty&_source_include=until%2Cexponent&size=1' -d '{
  "query": {
    "term": {
      "rule_name": "frequency_1._silence"
    }
  },
  "sort": {
    "until": {
      "order": "desc"
    }
  }
}'
curl -XPOST 'http://localhost:9200/elastalert_status/elastalert_status?pretty' -d '{
  "@timestamp": "2017-04-19T11:07:03.391627Z",
  "endtime": "2017-04-06T14:35:00.860000+08:00",
  "hits": 3,
  "matches": 3,
  "rule_name": "frequency_1",
  "starttime": "2017-04-06T14:30:00.860000+08:00",
  "time_taken": 12.41726803779602
}'
